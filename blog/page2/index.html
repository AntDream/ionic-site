<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ionic makes it incredibly easy to build beautiful and interactive mobile apps using HTML5 and AngularJS.">
<meta name="keywords" content="html5,javascript,mobile,drifty,ionic,hybrid,phonegap,cordova,native,ios,android,angularjs">
<meta name="author" content="Drifty">
<meta property="og:image" content="http://ionicframework.com/img/ionic-logo-blog.png"/>

    <link rel="alternate" type="application/rss+xml" title="Ionic Framework Blog" href="http://ionicframework.com/blog/feed.xml">
    <title>Ionic Blog</title>
    <link href="/css/site.css?12" rel="stylesheet">
<!--<script src="//cdn.optimizely.com/js/595530035.js"></script>-->
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44023830-1', 'ionicframework.com');
  ga('send', 'pageview');

</script>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  </head>

  <body class="blog-page ">
    <div id="newsletter-bar" class="top">
        Get Ionic updates and articles on building great cross-platform mobile apps
        <form action="http://codiqa.createsend.com/t/t/s/jytylh/" method="post">
          <input id="fieldEmail" name="cm-jytylh-jytylh" type="email" placeholder="Your email" required />
          <button type="submit" class="btn btn-default btn-sm">Sign up</button>
        </form>
    </div>
    <div id="blog-wrapper">
      <div id="blog-top">
        <a href="/"><img id="spinner" src="/img/ionic-logo-blog.png" height="96" style="margin-bottom: 10px;"></a>
        <h3>The Official <a href="/">Ionic</a> Blog</h3>
        <h5>The next generation HTML5 hybrid app development SDK</h5>
      </div>
      <div id="posts">
        
<div class="post">
  <div class="post-info">
    <h3 class="post-title"><a href="/blog/crosswalk-comes-to-ionic/">Crosswalk comes to Ionic</a></h3>

    <div class="post-social">
      
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="Crosswalk comes to Ionic" data-url="http://ionicframework.com/blog/crosswalk-comes-to-ionic" data-via="ionicframework" data-related="ionicframework">Tweet</a>
      <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      </script>

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-href="http://ionicframework.com/blog/crosswalk-comes-to-ionic"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>

      <!--<div class="fb-share-button" data-href="http://ionicframework.com/blog/crosswalk-comes-to-ionic" data-type="button_count"></div>-->
    </div>

    <time class="post-time">By <img src="https://pbs.twimg.com/profile_images/378800000732074456/9d7a839f5c3d9e6f98b390b795909af8.jpeg" class="author-icon"><a href="https://twitter.com/jbavari">Josh</a> on January 12, 2015</time>
  </div>
  
    <p><img class="showcase-image" src="/img/blog/crosswalk-header.jpg" style="margin-top:-20px;"></p>

<h3>Ionic and Crosswalk</h3>

<p>With our latest CLI update, we’re excited to introduce the ability to package modern rendering engines within your app
for Cordova, starting with <a href="https://crosswalk-project.org/">Crosswalk for Android</a>. Crosswalk provides Android
developers a bundled Chrome webview for their projects, resulting in better performance and predictability!</p>

<p>Our team is passionate about making hybrid mobile development awesome, and we’re so grateful to our committed,
enthusiastic community for helping us succeed in our mission.</p>


    <a href="/blog/crosswalk-comes-to-ionic">Read more...</a>
  
  <hr>
</div>


<div class="post">
  <div class="post-info">
    <h3 class="post-title"><a href="/blog/minifying-your-source-code/">Minifying Your App's Source Code</a></h3>

    <div class="post-social">
      
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="Minifying Your App's Source Code" data-url="http://ionicframework.com/blog/minifying-your-source-code" data-via="ionicframework" data-related="ionicframework">Tweet</a>
      <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      </script>

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-href="http://ionicframework.com/blog/minifying-your-source-code"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>

      <!--<div class="fb-share-button" data-href="http://ionicframework.com/blog/minifying-your-source-code" data-type="button_count"></div>-->
    </div>

    <time class="post-time">By <img src="https://pbs.twimg.com/profile_images/2653730816/5da4d8fb72352c715bbaffe07e56270e_400x400.jpeg" class="author-icon"><a href="http://twitter.com/nraboy" target="_blank">Nic Raboy</a> on January 10, 2015</time>
  </div>
  
    <p><em>This is a guest post by <a href="http://blog.nraboy.com/">Nic Raboy</a>, an application developer with a strong background in
Android, AngularJS, Ionic, Java, SQL, and Unity3D. Nic writes often about Ionic and how to build great hybrid apps.</em></p>

<p>Previously, I wrote about the importance of uglifying your Apache Cordova source code. If you read my <a href="https://blog.nraboy.com/2014/11/extract-android-apk-view-source-code/">previous
post</a> you&#39;ll know that hybrid applications are
incredibly easy to decompile, so uglifying your code creates additional difficulty for any malicious user.</p>

<p>I also wrote a <a href="https://blog.nraboy.com/2014/12/use-grunt-lint-uglify-javascript-project/">generic post</a> about how to use
the Grunt task runner to lint and uglify your code. However, using Grunt isn&#39;t the most ideal solution when it comes to
linting your Apache Cordova project for errors and uglifying your code.</p>

<p>In this guide, we&#39;re going to see how to efficiently lint and minify your Apache Cordova project before building. The
same information can be applied against <a href="http://phonegap.com/">Phonegap</a> and <a href="http://www.ionicframework.com">Ionic
Framework</a> projects, too.</p>


    <a href="/blog/minifying-your-source-code">Read more...</a>
  
  <hr>
</div>


<div class="post">
  <div class="post-info">
    <h3 class="post-title"><a href="/blog/navigating-the-changes/">Navigating the Changes</a></h3>

    <div class="post-social">
      
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="Navigating the Changes" data-url="http://ionicframework.com/blog/navigating-the-changes" data-via="ionicframework" data-related="ionicframework">Tweet</a>
      <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      </script>

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-href="http://ionicframework.com/blog/navigating-the-changes"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>

      <!--<div class="fb-share-button" data-href="http://ionicframework.com/blog/navigating-the-changes" data-type="button_count"></div>-->
    </div>

    <time class="post-time">By <img src="https://pbs.twimg.com/profile_images/495587171332403200/tO9oMmCn.png" class="author-icon"><a href="https://twitter.com/mhartington">Mike</a> on January 07, 2015</time>
  </div>
  
    <p>Before releasing Beta 14, we took some time to gather feedback from the Ionic community about how navigation UI should
behave: not just how it should be animated, but how
everything comes together in an app. In Beta 14, we made some major changes to the navigation structure and elements
that follow some already well-established patterns
that can be found in apps across all platforms. We feel these updates will smooth the process of building UI navigation
for your app.</p>


    <a href="/blog/navigating-the-changes">Read more...</a>
  
  <hr>
</div>


<div class="post">
  <div class="post-info">
    <h3 class="post-title"><a href="/blog/automating-icons-and-splash-screens/">Automating Icons and Splash Screens</a></h3>

    <div class="post-social">
      
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="Automating Icons and Splash Screens" data-url="http://ionicframework.com/blog/automating-icons-and-splash-screens" data-via="ionicframework" data-related="ionicframework">Tweet</a>
      <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      </script>

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-href="http://ionicframework.com/blog/automating-icons-and-splash-screens"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>

      <!--<div class="fb-share-button" data-href="http://ionicframework.com/blog/automating-icons-and-splash-screens" data-type="button_count"></div>-->
    </div>

    <time class="post-time">By <img src="https://pbs.twimg.com/profile_images/495587171332403200/tO9oMmCn.png" class="author-icon"><a href="https://twitter.com/mhartington">Mike</a> on January 05, 2015</time>
  </div>
  
    <p><img class="showcase-image" src="/img/blog/splash-header.jpg" style="margin-top:-20px;"></p>

<p>What’s the first thing users see when they download your app? What about after they install it and start the app?</p>

<p>An app icon and splash screen (launch image) are important parts of any app, yet making them used to be incredibly
tedious. You needed numerous icons for iOS and Android, and then you had to deal with splash screens and all their
different sizes.</p>

<p>To save you the stress of dealing with all that, we’ve made it possible for you to generate app icons and splash screens
via the Ionic CLI.</p>


    <a href="/blog/automating-icons-and-splash-screens">Read more...</a>
  
  <hr>
</div>


<div class="post">
  <div class="post-info">
    <h3 class="post-title"><a href="/blog/docker-hot-code-deploys/">Fast code deployments with Docker</a></h3>

    <div class="post-social">
      
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="Fast code deployments with Docker" data-url="http://ionicframework.com/blog/docker-hot-code-deploys" data-via="ionicframework" data-related="ionicframework">Tweet</a>
      <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      </script>

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-href="http://ionicframework.com/blog/docker-hot-code-deploys"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>

      <!--<div class="fb-share-button" data-href="http://ionicframework.com/blog/docker-hot-code-deploys" data-type="button_count"></div>-->
    </div>

    <time class="post-time">By <img src="https://pbs.twimg.com/profile_images/2645882152/2d0a800126f9913e3df81c47add9d17a.jpeg" class="author-icon"><a href="http://twitter.com/tweakbox" target="_blank">Joel Weirauch</a> on December 22, 2014</time>
  </div>
  
    <p>We are huge fans of <a href="https://www.docker.com/">Docker</a> here at Ionic. Docker keeps our code and its dependencies together and lets us more fully utilize our computing resources for products like <a href="https://creator.ionic.io/">Ionic Creator</a> and the upcoming <a href="https://ionic.io/">Ionic.io</a> services. </p>

<p>One challenge we faced with Docker, though, was that any time we made even the smallest change to our code, we had to go through the process of building a new container, pulling it down to our servers, and replacing the running version.  </p>

<p>We store all of our code in GitHub, use the <a href="https://hub.docker.com/">Docker Registry</a> to automatically build and store our containers, and use <a href="http://www.ansible.com/">Ansible</a> to script the management and deployment of our containers to our servers. Even with a fully automated process, deploying that one small change could take us 20 minutes or more. After some brainstorming, we realized there is a better way for us to utilize Docker.</p>

<p>After the initial container build, 99% of our changes are purely code. We aren&#39;t adding any new dependencies or changing any of the requirements for running the code. Docker is really just a way to encapsulate the infrastructure required to run our code in a self-contained package. Because 99% of our changes are to code, not infrastructure, we realized we didn’t need to go through the effort to rebuild the infrastructure on every change.</p>

<p>The killer Docker feature that lets us solve this problem is <a href="https://docs.docker.com/userguide/dockervolumes/">volumes</a>. In the first iterations of our Docker files, our code was pulled from GitHub and built directly into the container. Now, we deliberately leave the code out of the container and instead load it through a host volume on container start. When we want to do a new deploy, Ansible pulls down our master branch from GitHub into an app directory on our servers. Then it checks to make sure that the associated container is running, and if it&#39;s not, it will start the container and map the app code into the container.</p>

<p>The other component that makes this work for us is that most of our apps are Python (Django), and we serve them with uWSGI inside the Docker container. uWSGI has a <a href="http://uwsgi-docs.readthedocs.org/en/latest/Options.html#touch-reload">touch reload</a> feature that watches a specified file and reloads the uWSGI server when the file is touched. After Ansible has pulled our changes from GitHub, we have Ansible touch the uwsgi.ini file, which triggers uWSGI to reload inside the running container. Just like that, we’re running the updated version of our code!</p>

<p>What this means, in brief, is that we took our deployments from a 20+ minute process that looked like this:</p>

<ol>
<li>Commit and push to GitHub.</li>
<li>Docker Registry pulls the changes and builds a new container.</li>
<li>Ansible connects to our servers and pulls the new container.</li>
<li>Ansible finds any running instances of the old container and stops them.</li>
<li>Ansible starts new instances of the container.</li>
</ol>

<p>to this approximately 10 second process:</p>

<ol>
<li>Commit and push to GitHub.</li>
<li>Ansible connects to our servers, pulls latest master from GitHub.</li>
<li>Ansible touches the app&#39;s uwsgi.ini file to trigger UWSGI to reload.</li>
</ol>

<h3>Breaking it down</h3>

<h4>Supervisor / uWSGI</h4>

<p>We are using <a href="http://supervisord.org/">Supervisor</a> inside the Docker container to start the processes run by the container. Our supervisord.conf looks like the following:</p>
<div class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="k">[supervisord]</span>
<span class="na">nodaemon</span><span class="o">=</span><span class="s">true</span>

<span class="k">[program:uwsgi]</span>
<span class="na">command</span> <span class="o">=</span> <span class="s">/usr/local/bin/uwsgi --touch-reload=/path/to/code/in/container/uwsgi.ini --ini /path/to/code/in/container/uwsgi.ini</span>
</code></pre></div>
<p>We are using the uwsgi.ini file as the trigger file via the <a href="http://uwsgi-docs.readthedocs.org/en/latest/Options.html#touch-reload">--touch-reload</a> flag.</p>

<h4>Docker</h4>

<p>When we start our container, we add a host volume that contains the code for our app. That host volume is mapped to an app path in the container from which uWSGI will load the app.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">docker run -d -P -v /path/to/code/on/host:/path/to/code/in/container --name<span class="o">=</span>container_name driftyco/testapp
</code></pre></div>
<h4>Ansible</h4>

<p>Ansible is in charge of cloning the application code from GitHub into our host&#39;s app directory, ensuring that the Docker container is running and touching the uWSGI touch-reload trigger file. We have created playbooks to direct the deployment of each of our services, so deploying is just a matter of running the right one.</p>

<p>For a quick code deploy, we run a playbook that contains these tasks and takes only a few seconds to run:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">set_fact</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">host_volume=&quot;/path/to/code/on/host&quot;</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Git pull the latest code</span>
  <span class="l-Scalar-Plain">git</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=git@github.com:{{ org }}/{{ container }}.git</span>
       <span class="l-Scalar-Plain">dest={{ host_volume }}</span>
       <span class="l-Scalar-Plain">accept_hostkey=yes</span>
       <span class="l-Scalar-Plain">force=yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Gracefully reload uwsgi</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">path={{ touch_file }} state=touch</span>
</code></pre></div>
<p>If we need to restart the entire container or update system packages, we can do a container deploy, which takes a few minutes, with these tasks:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Add app dir if it doesn&#39;t yet exist</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">path={{ host_volume }} owner=nobody group=docker recurse=yes state=directory</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Pull Docker image</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="l-Scalar-Plain">ignore_errors</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">with_items</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">docker pull {{ org }}/{{ container }}</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">docker stop {{ container }}</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">docker rm {{ container }}</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Run Docker image with app volumes</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">docker run -d -P -v {{ host_volume }}:{{ container_volume }} --name={{ container }} {{ extra_params }} {{ org }}/{{ container }}</span>
</code></pre></div>
<p>For a full deploy, we run both playbooks together in sequence; it’s that simple. ;)</p>

<h3>Conclusion</h3>

<p>Because Docker is primarily a way to encapsulate infrastructure into a self-contained, deployable package, there is often no need to rebuild the entire container just to deploy a couple code changes. By utilizing volumes in Docker, we remove the code from the container, enabling code to be updated independently of the container that runs it. Finally, we can use the UWSGI touch reload feature to restart UWSGI in the container and load the updated code from the volume. </p>

  
  <hr>
</div>



<!-- Pagination links -->
<div class="clearfix">
  <div class="pagination">
    <div class="pull-left">
      <!--<span class="page_number ">Page: 2 of 14</span>-->
      
        <a href="/blog/page3/" class="next">Older</a>
      
    </div>
    <div class="pull-right">
      
        <a href="/blog/" class="previous">Newer</a>
      
    </div>
  </div>

  <p style="text-align:center; margin-bottom: 40px;" class="ionic">
    <a href="http://ionicframework.com/blog/feed.xml">
      <i class="ion-social-rss"></i>
      Ionic Blog RSS Feed
    </a>
  </p>
</div>

      </div>
    </div>
	
    <footer class="footer">
      <p>
        A <a href="http://drifty.com/">Drifty</a> product
        created by <a href="https://twitter.com/maxlynch">@maxlynch</a>, 
        <a href="https://twitter.com/adamdbradley">@adamdbradley</a>, and 
        <a href="https://twitter.com/benjsperry">@benjsperry</a>. Licensed under 
        <a href="http://opensource.org/licenses/MIT">MIT</a>.
        <a href="/blog/feed.xml" style="margin-left:15px;">
          <span class="ionic">
            <i class="ion-social-rss"></i>
          </span>
          RSS
        </a>
      </p>
    </footer>

    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
<script src="/js/site.js?1"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/Cookies.js/0.4.0/cookies.min.js"></script>

<script>
try {
  var d = new Date('2015-01-28 02:00:00 -0500');
  var ts = d.getTime();

  var cd = Cookies.get('_iondj');
  if(cd) {
    cd = JSON.parse(atob(cd));
    if(parseInt(cd.lp) < ts) {
      var bt = document.getElementById('blog-badge');
      bt.style.display = 'block';
    }

    cd.lp = ts;
  } else {
    var bt = document.getElementById('blog-badge');
    bt.style.display = 'block';
    cd = {
      lp: ts
    }
  }

  Cookies.set('_iondj', btoa(JSON.stringify(cd)));
} catch(e) {
}
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  </body>
</html>
